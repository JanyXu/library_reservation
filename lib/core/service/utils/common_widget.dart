import 'package:cached_network_image/cached_network_image.dart';import 'package:flutter/material.dart';class CommonWidget{  ///统一带缓存的网络图片加载  static Widget buildCachedNetworkImage(String? url, {String? defaultImg,    String? errorImg,    Color? backgroundColor,    BoxFit? fit,    double? width,    double? height,    Widget Function(BuildContext context, String url, DownloadProgress progress)? progressBuilder}) {    if(url ==null || url.isEmpty){      if((defaultImg == null || defaultImg.isEmpty) && (errorImg == null || errorImg.isEmpty)){        return Container(          width: width,          height: height,          color: backgroundColor??Colors.white,        );      }      return Image.asset(defaultImg ?? errorImg ?? "",width: width,height: height);    }    //加载动画和占位图只能用一项，不能同时使用    if(defaultImg!=null&&defaultImg.isNotEmpty){      return CachedNetworkImage(        fit: fit,        imageUrl: url,        width: width,        height: height,        placeholder: (context, string) {          return Image.asset(defaultImg,width: width,height: height);        },        errorWidget: (context, string, a ){          return Image.asset(errorImg!,width: width,height: height);        },      );    }    if(errorImg !=null && errorImg.isNotEmpty){      return CachedNetworkImage(        fit: fit,        imageUrl: url,        width: width,        height: height,        progressIndicatorBuilder: progressBuilder,        errorWidget: (context, string, a ){          return Image.asset(errorImg,width: width,height: height);        },      );    }    return CachedNetworkImage(      fit: fit,      imageUrl: url,      width: width,      height: height,      progressIndicatorBuilder: progressBuilder,    );  }}